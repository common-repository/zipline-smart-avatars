{"version":3,"sources":["frontend.js"],"names":["$","avatarId","avatarUrl","on","removeClass","this","toggleClass","find","data","attr","e","preventDefault","ajax","type","url","zl_smart_avatars_ajax_object","ajax_url","action","avatar_id","avatar_url","nonce","success","response","newAvatarUrl","console","log","error","jQuery"],"mappings":"aAAE,CAAA,SAAUA,GACJ,IAAIC,EAAW,KACXC,EAAY,KAGhBF,EAAG,cAAe,EAAEG,GAAI,QAAS,WAC7BH,EAAG,cAAe,EAAEI,YAAa,iBAAkB,EACnDJ,EAAGK,IAAK,EAAEC,YAAa,iBAAkB,EAEzCL,EAAWD,EAAGK,IAAK,EAAEE,KAAM,KAAM,EAAEC,KAAM,WAAY,EACrDN,EAAYF,EAAGK,IAAK,EAAEE,KAAM,KAAM,EAAEE,KAAM,KAAM,CACpD,CAAC,EAGDT,EAAG,8BAA+B,EAAEG,GAAI,SAAU,SAAUO,GACxDA,EAAEC,eAAe,EAEjBX,EAAEY,KAAK,CACHC,KAAM,OACNC,IAAKC,6BAA6BC,SAClCR,KAAM,CACFS,OAAQ,qBACRC,UAAWjB,EACXkB,WAAYjB,EACZkB,MAAOL,6BAA6BK,KACxC,EACAC,QAAS,SAAUC,GACVA,EAASD,UACNE,EAAeD,EAASd,KAAKW,WACjCK,QAAQC,IAAKF,CAAa,EAC1BvB,EAAG,wBAAyB,EAAES,KAAM,MAAOc,CAAa,EAEhE,EACAG,MAAO,SAAUA,GACbF,QAAQC,IAAKC,CAAM,CACvB,CACJ,CAAC,CACL,CAAC,CAER,EAAEC,MAAO","file":"frontend.min.js","sourcesContent":["( function( $ ) {\n        let avatarId = null;\n        let avatarUrl = null;\n\n        // Add class to selected avatar to change border colour on click\n        $( '.avatar-wrap' ).on( 'click', function() {\n            $( '.avatar-wrap' ).removeClass( 'avatar-selected' );\n            $( this ).toggleClass( 'avatar-selected' );\n\n            avatarId = $( this ).find( 'img' ).data( 'avatar-id' );\n            avatarUrl = $( this ).find( 'img' ).attr( 'src' );\n        });\n\n        // Submit the avatar choice form\n        $( 'form#zl-smart-avatars-choice' ).on( 'submit', function( e ) {\n            e.preventDefault();\n\n            $.ajax({\n                type: 'post',\n                url: zl_smart_avatars_ajax_object.ajax_url,\n                data: {\n                    action: 'user_change_avatar',\n                    avatar_id: avatarId,\n                    avatar_url: avatarUrl,\n                    nonce: zl_smart_avatars_ajax_object.nonce\n                },\n                success: function( response ) {\n                    if ( response.success ) {\n                        let newAvatarUrl = response.data.avatar_url;\n                        console.log( newAvatarUrl );\n                        $( '#item-header a .avatar' ).attr( 'src', newAvatarUrl );\n                    }\n                },\n                error: function( error ) {\n                    console.log( error );\n                }\n            });\n        });\n\n}( jQuery ) );\n"]}